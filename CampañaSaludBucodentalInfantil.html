<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guardianes de la Sonrisa - Una Aventura Bucal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Baloo 2', cursive;
            background-color: #f0f7ff;
        }
        .header-bg {
            background: linear-gradient(135deg, #60A5FA, #34D399);
        }
        .nav-link {
            @apply px-4 py-2 text-white font-bold rounded-full transition-all duration-300 hover:bg-white hover:text-blue-500 transform hover:scale-105;
        }
        .section-title {
            @apply text-4xl md:text-5xl font-extrabold text-center mb-12;
            color: #1E40AF; /* Dark Blue */
        }
        .card {
            @apply bg-white rounded-2xl shadow-lg p-6 transition-transform duration-300 hover:-translate-y-2.5;
        }
        .download-card {
             @apply bg-white rounded-2xl shadow-lg transition-all duration-300 hover:shadow-2xl hover:scale-105 border-4 border-transparent hover:border-yellow-400;
        }
        .btn {
            @apply font-bold py-3 px-8 rounded-full transition-all duration-300 shadow-md hover:shadow-xl transform hover:scale-105;
        }
        .btn-primary {
            @apply bg-yellow-400 text-gray-800 hover:bg-yellow-500;
        }
        .btn-secondary {
            @apply bg-green-500 text-white hover:bg-green-600;
        }

        /* Animation */
        .float-animation {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        /* Game & Quiz Styles */
        .quiz-option {
            @apply p-4 rounded-xl border-4 border-blue-200 bg-blue-50 cursor-pointer transition-all duration-200 hover:border-blue-400 hover:bg-blue-100;
        }
        .quiz-option.correct { background-color: #D1FAE5; border-color: #10B981; }
        .quiz-option.incorrect { background-color: #FEE2E2; border-color: #EF4444; }

        .game-area { background: url('https://www.transparenttextures.com/patterns/cubes.png') #a7f3d0; }

        .food-item { cursor: grab; }
        .food-item:active { cursor: grabbing; transform: scale(1.1); }
        .drop-zone { @apply border-4 border-dashed rounded-2xl p-6 text-center transition-all duration-300; }
        .drop-zone.active { transform: scale(1.05); }
    </style>
</head>
<body class="text-gray-700">

    <!-- Header -->
    <header class="header-bg sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-4">
            <nav class="flex justify-between items-center py-3">
                <a href="#" class="text-3xl font-extrabold text-white flex items-center">
                    <i class="fa-solid fa-shield-heart mr-2"></i>Guardianes de la Sonrisa
                </a>
                <div class="hidden lg:flex items-center space-x-2">
                    <a href="#quienes-somos" class="nav-link">Guardianes</a>
                    <a href="#misiones" class="nav-link">Misiones</a>
                    <a href="#recursos" class="nav-link">Recursos</a>
                    <a href="#juegos" class="nav-link">Desafíos</a>
                    <a href="#quiz" class="nav-link">Prueba Final</a>
                </div>
                <button id="mobile-menu-btn" class="lg:hidden text-white text-3xl"><i class="fa-solid fa-bars-staggered"></i></button>
            </nav>
        </div>
        <div id="mobile-menu" class="hidden lg:hidden bg-white/95">
             <a href="#quienes-somos" class="block text-center py-3 text-blue-600 font-bold">Guardianes</a>
             <a href="#misiones" class="block text-center py-3 text-blue-600 font-bold">Misiones</a>
             <a href="#recursos" class="block text-center py-3 text-blue-600 font-bold">Recursos</a>
             <a href="#juegos" class="block text-center py-3 text-blue-600 font-bold">Desafíos</a>
             <a href="#quiz" class="block text-center py-3 text-blue-600 font-bold">Prueba Final</a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="text-center py-16 md:py-24 px-4 bg-white relative overflow-hidden">
        <div class="absolute -top-20 -left-20 w-64 h-64 bg-yellow-200 rounded-full opacity-50"></div>
        <div class="absolute -bottom-20 -right-20 w-64 h-64 bg-green-200 rounded-full opacity-50"></div>
        <div class="container mx-auto relative">
            <div class="float-animation text-blue-400 mb-6 text-9xl">
                <i class="fa-solid fa-tooth"></i>
            </div>
            <h1 class="text-5xl md:text-6xl font-extrabold text-blue-800 mb-4">¡Únete a los Guardianes de la Sonrisa!</h1>
            <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-8">Una aventura increíble te espera para descubrir los secretos de una boca sana y fuerte. ¡Tu sonrisa tiene súper poderes!</p>
            <a href="#misiones" class="btn btn-primary text-xl">¡Comenzar mi Misión!</a>
        </div>
    </section>

    <!-- A Quién va Dirigido / Por qué es importante -->
    <section id="quienes-somos" class="py-20 px-4">
        <div class="container mx-auto">
            <h2 class="section-title">El Mundo de los Guardianes</h2>
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="text-lg space-y-4">
                    <p>Este programa está creado para los más valientes aventureros: ¡los <strong class="text-green-600">niños y niñas en edad preescolar</strong>! Pero todo héroe necesita a sus guías, por eso también es para nuestros más grandes aliados: los <strong class="text-blue-600">padres, madres y educadores</strong>.</p>
                    <h3 class="text-2xl font-bold text-blue-700 pt-4">¿Por qué una Sonrisa Sana es un Súper Poder?</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start"><i class="fa-solid fa-bolt text-yellow-500 text-xl mr-3 mt-1"></i><span><strong class="text-gray-800">Te da energía:</strong> Una boca sana te ayuda a comer todo tipo de alimentos para crecer fuerte y jugar sin parar.</span></li>
                        <li class="flex items-start"><i class="fa-solid fa-comments text-green-500 text-xl mr-3 mt-1"></i><span><strong class="text-gray-800">Te ayuda a hablar:</strong> Con dientes sanos, puedes pronunciar todas las palabras y contar las mejores historias.</span></li>
                        <li class="flex items-start"><i class="fa-solid fa-face-smile text-pink-500 text-xl mr-3 mt-1"></i><span><strong class="text-gray-800">¡Es tu mejor carta de presentación!</strong> Una sonrisa brillante demuestra lo feliz que estás y contagia alegría a todos tus amigos.</span></li>
                    </ul>
                </div>
                <div class="text-center text-blue-200">
                    <i class="fa-solid fa-children text-9xl"></i>
                </div>
            </div>
        </div>
    </section>

    <!-- Consejos / Ideas Principales -->
    <section id="misiones" class="py-20 px-4 bg-blue-50">
        <div class="container mx-auto">
            <h2 class="section-title">La Senda del Guardián: 4 Misiones Clave</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="card text-center"><i class="fa-solid fa-toothbrush text-6xl text-blue-500 mb-4"></i><h3 class="text-2xl font-bold">El Cepillo Invencible</h3><p>Cepíllate los dientes <strong class="text-blue-600">después de cada comida</strong>, pero la más importante es ¡antes de dormir! Usa un cepillo suave y pasta con flúor del tamaño de un guisante.</p></div>
                <div class="card text-center"><i class="fa-solid fa-apple-whole text-6xl text-red-500 mb-4"></i><h3 class="text-2xl font-bold">El Escudo Nutritivo</h3><p>Come frutas, verduras y lácteos. Son alimentos 'amigos'. Los dulces y bebidas azucaradas son 'enemigos' que debilitan tu sonrisa. ¡Elígelos muy pocas veces!</p></div>
                <div class="card text-center"><i class="fa-solid fa-hand-holding-droplet text-6xl text-cyan-500 mb-4"></i><h3 class="text-2xl font-bold">El Poder del Agua</h3><p>El agua es la mejor bebida para un Guardián. Te mantiene fuerte y ayuda a limpiar tus dientes de los 'bichos' de la comida.</p></div>
                <div class="card text-center"><i class="fa-solid fa-user-doctor text-6xl text-green-500 mb-4"></i><h3 class="text-2xl font-bold">La Visita al Sabio</h3><p>El dentista es un sabio amigo que revisa que tu sonrisa esté siempre a punto. ¡Visítalo regularmente para que te enseñe sus secretos!</p></div>
            </div>
        </div>
    </section>
    
    <!-- Recursos Descargables Section -->
    <section id="recursos" class="py-20 px-4 bg-white">
        <div class="container mx-auto">
            <h2 class="section-title">El Arsenal del Guardián</h2>
            <p class="text-center text-lg text-gray-600 max-w-3xl mx-auto mb-10">¡Padres y profes! Aquí tenéis el arsenal de herramientas para ayudar a los pequeños Guardianes en su aventura. ¡Descargad, imprimid y a jugar!</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Recurso 1: Calendario -->
                <a href="https://storage.googleapis.com/gemini-generative-ai-docs/20250607_1240_Calendario%20Higiene%20Dental_simple_compose_01jx4zj9spf5jatvkd0pmbjh80.jpg-84c1726c-048c-49b7-8f80-75aa7fc10d31" target="_blank" class="block download-card overflow-hidden">
                    <div class="p-8 bg-blue-100 flex justify-center items-center h-48">
                        <i class="fa-solid fa-calendar-days text-6xl text-blue-500"></i>
                    </div>
                    <div class="p-4 text-center">
                        <h3 class="text-xl font-bold text-blue-800">Calendario Semanal</h3>
                        <p class="text-gray-600 text-sm">Marca cada día que completes la misión del cepillado.</p>
                        <span class="mt-3 inline-block bg-blue-500 text-white font-bold py-2 px-4 rounded-full text-sm">Ver e Imprimir</span>
                    </div>
                </a>
                <!-- Recurso 2: Juego para colorear -->
                <a href="https://storage.googleapis.com/gemini-generative-ai-docs/20250607_1236_Juego%20de%20Salud%20Dental_simple_compose_01jx4zb8dje32bz2ewwcs7dhtk.jpg-b5d83587-1ea0-4cde-bbe7-2edfed84825f" target="_blank" class="block download-card overflow-hidden">
                    <div class="p-8 bg-green-100 flex justify-center items-center h-48">
                        <i class="fa-solid fa-palette text-6xl text-green-500"></i>
                    </div>
                    <div class="p-4 text-center">
                        <h3 class="text-xl font-bold text-green-800">Juego para Colorear</h3>
                        <p class="text-gray-600 text-sm">Diviértete coloreando y completando el laberinto dental.</p>
                        <span class="mt-3 inline-block bg-green-500 text-white font-bold py-2 px-4 rounded-full text-sm">Ver e Imprimir</span>
                    </div>
                </a>
                <!-- Recurso 3: Póster de Hábitos -->
                <a href="https://storage.googleapis.com/gemini-generative-ai-docs/20250607_1249_H%C3%A1bitos%20de%20Higiene%20Dental_simple_compose_01jx503etwe2ba0tgjjkrxg03w.jpg-d3ae5138-5cb1-4194-b295-d6cddb66cb81" target="_blank" class="block download-card overflow-hidden">
                    <div class="p-8 bg-red-100 flex justify-center items-center h-48">
                        <i class="fa-solid fa-circle-info text-6xl text-red-500"></i>
                    </div>
                    <div class="p-4 text-center">
                        <h3 class="text-xl font-bold text-red-800">Póster de Hábitos</h3>
                        <p class="text-gray-600 text-sm">Un póster visual para recordar los buenos y malos hábitos.</p>
                        <span class="mt-3 inline-block bg-red-500 text-white font-bold py-2 px-4 rounded-full text-sm">Ver e Imprimir</span>
                    </div>
                </a>
                <!-- Recurso 4: Formulario -->
                <div id="open-form-btn" class="download-card cursor-pointer overflow-hidden">
                    <div class="p-8 bg-purple-100 flex justify-center items-center h-48">
                        <i class="fa-solid fa-file-lines text-6xl text-purple-500"></i>
                    </div>
                    <div class="p-4 text-center">
                        <h3 class="text-xl font-bold text-purple-800">Formulario para Familias</h3>
                        <p class="text-gray-600 text-sm">Un cuestionario para evaluar los hábitos en casa.</p>
                        <span class="mt-3 inline-block bg-purple-500 text-white font-bold py-2 px-4 rounded-full text-sm">Ver Formulario</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Juegos para niños -->
    <section id="juegos" class="py-20 px-4 game-area rounded-3xl mx-2 md:mx-4">
        <div class="container mx-auto">
            <h2 class="section-title text-green-800">El Desafío de los Valientes</h2>
            <div class="grid lg:grid-cols-2 gap-12">
                <div class="card p-8 text-center bg-white/80 backdrop-blur-sm">
                    <h3 class="text-3xl font-bold text-blue-800 mb-4">¡Atrapa al Bicho de la Caries!</h3>
                    <p class="mb-4">Los bichos se esconden en los dientes. ¡Haz clic sobre ellos para eliminarlos! Cuidado, son muy rápidos. Tienes 15 segundos.</p>
                    <div id="bug-game-board" class="grid grid-cols-3 gap-4 mb-4 max-w-sm mx-auto"></div>
                    <p class="text-2xl font-bold">Puntos: <span id="bug-score">0</span></p>
                    <button id="start-bug-game" class="btn btn-primary mt-4">¡Empezar a Cazar!</button>
                </div>
                <div class="card p-8 bg-white/80 backdrop-blur-sm">
                     <h3 class="text-3xl font-bold text-blue-800 mb-4 text-center">Combustible para tu Sonrisa</h3>
                     <p class="mb-6 text-center">Arrastra cada alimento a su lugar: los 'amigos' a la muela feliz y los 'enemigos' a la triste.</p>
                     <div id="food-items-container" class="flex justify-center items-center flex-wrap gap-4 mb-8 text-5xl"></div>
                     <div class="grid grid-cols-2 gap-4">
                        <div id="happy-tooth-zone" class="drop-zone border-green-400"><i class="fa-regular fa-face-laugh-beam text-6xl text-green-500"></i></div>
                        <div id="sad-tooth-zone" class="drop-zone border-red-400"><i class="fa-regular fa-face-frown-open text-6xl text-red-500"></i></div>
                     </div>
                     <p id="food-game-feedback" class="text-center font-bold mt-4 h-6 text-xl"></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Quiz interactivo -->
    <section id="quiz" class="py-20 px-4 bg-white">
        <div class="container mx-auto max-w-3xl">
            <h2 class="section-title">La Prueba Final del Sabio</h2>
            <div id="quiz-container" class="card p-8"></div>
            <div id="quiz-result" class="hidden card text-center p-8 bg-blue-50">
                <h3 id="result-title" class="text-4xl font-extrabold mb-2"></h3>
                <i id="result-icon" class="text-7xl mb-4"></i>
                <p id="result-score" class="text-2xl mb-4"></p>
                <p id="result-message" class="text-gray-700 text-lg mb-6"></p>
                <button id="restart-quiz" class="btn btn-secondary">Repetir la Prueba</button>
            </div>
        </div>
    </section>
    
    <!-- Modal Formulario -->
    <div id="form-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4 transition-opacity duration-300">
        <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto relative">
            <button id="close-form-btn" class="absolute top-3 right-4 text-gray-400 hover:text-gray-800 text-4xl font-bold">&times;</button>
            <h3 class="text-3xl font-bold text-purple-800 mb-4">Evaluación de la Higiene Bucodental Infantil</h3>
            <p class="mb-6 text-gray-600">Este es un formulario para ayudar a las familias a conocer los hábitos de higiene bucodental de su hijo/a. Puede copiar y pegar el texto para usarlo.</p>
            <div class="space-y-4 text-left text-lg">
                <div class="p-4 bg-gray-50 rounded-lg">
                    <p><strong>1. ¿Con qué frecuencia se cepilla los dientes su hijo/a al día?</strong></p>
                    <div class="h-8 mt-1 border-b border-gray-300"></div>
                </div>
                 <div class="p-4 bg-gray-50 rounded-lg">
                    <p><strong>2. ¿Utiliza pasta dentífrica con flúor? (¿Sabe si la pasta está adaptada a su edad?)</strong></p>
                    <div class="h-8 mt-1 border-b border-gray-300"></div>
                </div>
                 <div class="p-4 bg-gray-50 rounded-lg">
                    <p><strong>3. ¿Su hijo/a se cepilla solo/a o necesita ayuda o supervisión?</strong></p>
                    <div class="h-8 mt-1 border-b border-gray-300"></div>
                </div>
                 <div class="p-4 bg-gray-50 rounded-lg">
                    <p><strong>4. ¿Cuánto tiempo dedica aproximadamente al cepillado? (¿Más de 2 minutos?)</strong></p>
                    <div class="h-8 mt-1 border-b border-gray-300"></div>
                </div>
                 <div class="p-4 bg-gray-50 rounded-lg">
                    <p><strong>5. ¿Tiene costumbre de usar hilo dental o cepillos interdentales?</strong></p>
                    <div class="h-8 mt-1 border-b border-gray-300"></div>
                </div>
                 <div class="p-4 bg-gray-50 rounded-lg">
                    <p><strong>6. ¿Acude al dentista de forma regular? ¿Cada cuánto tiempo suelen ir a revisión?</strong></p>
                    <div class="h-8 mt-1 border-b border-gray-300"></div>
                </div>
                 <div class="p-4 bg-gray-50 rounded-lg">
                    <p><strong>7. ¿Tiene o ha tenido caries, encías inflamadas o mal aliento de forma frecuente?</strong></p>
                    <div class="h-8 mt-1 border-b border-gray-300"></div>
                </div>
                 <div class="p-4 bg-gray-50 rounded-lg">
                    <p><strong>8. ¿Suele tomar muchos alimentos azucarados o bebidas azucaradas? ¿Con qué frecuencia los consume entre horas?</strong></p>
                    <div class="h-8 mt-1 border-b border-gray-300"></div>
                </div>
                 <div class="p-4 bg-gray-50 rounded-lg">
                    <p><strong>9. ¿Su hijo/a mastica bien los alimentos y no muestra dolor o molestias al hacerlo?</strong></p>
                    <div class="h-8 mt-1 border-b border-gray-300"></div>
                </div>
                 <div class="p-4 bg-gray-50 rounded-lg">
                    <p><strong>10. ¿Sabe si aprieta o rechina los dientes mientras duerme (bruxismo)?</strong></p>
                    <div class="h-8 mt-1 border-b border-gray-300"></div>
                </div>
            </div>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-10 px-4">
        <div class="container mx-auto text-center">
            <p class="font-bold text-2xl mb-2">Guardianes de la Sonrisa</p>
            <p class="text-gray-400">Un programa educativo para la promoción y prevención de la salud bucal en preescolares.</p>
            <p class="text-sm text-gray-500 mt-4">Inspirado en el programa del Ministerio de Salud de Chile.</p>
        </div>
    </footer>

    <script>
    // --- Mobile Menu ---
    document.getElementById('mobile-menu-btn').addEventListener('click', () => {
        document.getElementById('mobile-menu').classList.toggle('hidden');
    });
    
    // --- Bug Catcher Game ---
    const bugBoard = document.getElementById('bug-game-board');
    const bugScoreEl = document.getElementById('bug-score');
    const startBugBtn = document.getElementById('start-bug-game');
    let bugScore = 0;
    let bugGameInterval;

    function createBugBoard() {
        bugBoard.innerHTML = '';
        for (let i = 0; i < 9; i++) {
            const toothDiv = document.createElement('div');
            toothDiv.classList.add('aspect-square', 'bg-blue-200', 'rounded-xl', 'flex', 'items-center', 'justify-center', 'cursor-pointer');
            const toothIcon = document.createElement('i');
            toothIcon.classList.add('fa-solid', 'fa-tooth', 'text-4xl', 'text-white');
            toothDiv.appendChild(toothIcon);
            toothDiv.addEventListener('click', () => whackBug(toothIcon));
            bugBoard.appendChild(toothDiv);
        }
    }

    function popUpBug() {
        const teeth = bugBoard.querySelectorAll('i');
        teeth.forEach(t => { t.classList.remove('fa-bug', 'text-red-600'); t.classList.add('fa-tooth', 'text-white'); });
        const randomTooth = teeth[Math.floor(Math.random() * teeth.length)];
        randomTooth.classList.add('fa-bug', 'text-red-600');
        randomTooth.classList.remove('fa-tooth', 'text-white');
    }

    function whackBug(toothIcon) {
        if (toothIcon.classList.contains('fa-bug')) {
            bugScore++;
            bugScoreEl.textContent = bugScore;
            toothIcon.classList.remove('fa-bug', 'text-red-600');
            toothIcon.classList.add('fa-tooth', 'text-white');
        }
    }

    startBugBtn.addEventListener('click', () => {
        bugScore = 0;
        bugScoreEl.textContent = bugScore;
        startBugBtn.disabled = true;
        bugGameInterval = setInterval(popUpBug, 800);
        setTimeout(() => {
            clearInterval(bugGameInterval);
            alert(`¡Tiempo! Tu puntuación final es: ${bugScore}`);
            startBugBtn.disabled = false;
        }, 15000);
    });
    createBugBoard();

    // --- Food Game Logic ---
    const foodData = [
        { icon: 'fa-apple-whole', type: 'happy' }, { icon: 'fa-candy-cane', type: 'sad' },
        { icon: 'fa-carrot', type: 'happy' }, { icon: 'fa-ice-cream', type: 'sad' },
        { icon: 'fa-cheese', type: 'happy' }, { icon: 'fa-cookie-bite', type: 'sad' }
    ];
    const foodContainer = document.getElementById('food-items-container');
    const happyZone = document.getElementById('happy-tooth-zone');
    const sadZone = document.getElementById('sad-tooth-zone');
    const foodFeedback = document.getElementById('food-game-feedback');
    let draggedItem = null;

    function loadFoodItems() {
        foodContainer.innerHTML = '';
        foodData.forEach(food => {
            const item = document.createElement('i');
            item.classList.add('food-item', 'fa-solid', food.icon);
            item.draggable = true;
            item.dataset.type = food.type;
            foodContainer.appendChild(item);
        });
        addDragEvents();
    }

    function addDragEvents(){
        const items = foodContainer.querySelectorAll('.food-item');
        items.forEach(item => {
            item.addEventListener('dragstart', e => {
                draggedItem = e.target;
                setTimeout(() => e.target.style.visibility = 'hidden', 0);
            });
            item.addEventListener('dragend', e => {
                setTimeout(() => {
                    if(draggedItem) { // Check if it hasn't been removed
                      draggedItem.style.visibility = 'visible';
                    }
                    draggedItem = null;
                }, 0);
            });
        });
    }

    [happyZone, sadZone].forEach(zone => {
        zone.addEventListener('dragover', e => { e.preventDefault(); zone.classList.add('active'); });
        zone.addEventListener('dragleave', () => zone.classList.remove('active'));
        zone.addEventListener('drop', e => {
            e.preventDefault();
            zone.classList.remove('active');
            if (!draggedItem) return;
            const zoneType = zone.id.includes('happy') ? 'happy' : 'sad';
            if (draggedItem.dataset.type === zoneType) {
                foodFeedback.textContent = '¡Muy Bien!';
                foodFeedback.style.color = '#10B981';
                draggedItem.remove(); // Remove item from DOM
            } else {
                foodFeedback.textContent = '¡Oh, no! Prueba otra vez.';
                foodFeedback.style.color = '#EF4444';
            }
            if (foodContainer.children.length === 0) {
                 foodFeedback.textContent = '¡Fantástico! ¡Lo lograste!';
                 setTimeout(loadFoodItems, 2000);
            }
        });
    });
    loadFoodItems();

    // --- Quiz Logic ---
    const quizData = [
        { question: "¿Cuál es el momento MÁS importante para cepillarse los dientes?", options: ["Al despertar", "Después de comer", "Antes de dormir", "Cuando me apetece"], answer: "Antes de dormir" },
        { question: "¿Qué bebida es la mejor amiga de tu sonrisa?", options: ["Zumo de naranja", "Leche con chocolate", "Refresco de cola", "Agua"], answer: "Agua" },
        { question: "Un caramelo es un alimento...", options: ["Amigo, porque es dulce", "Enemigo, porque puede crear caries", "Amigo, si me lavo los dientes luego", "Da igual"], answer: "Enemigo, porque puede crear caries" },
        { question: "¿Quién es el sabio amigo que cuida de tus dientes?", options: ["El profesor", "El médico", "El dentista", "Mis padres"], answer: "El dentista" }
    ];
    const quizContainer = document.getElementById('quiz-container');
    const quizResultEl = document.getElementById('quiz-result');
    const restartQuizBtn = document.getElementById('restart-quiz');
    let currentQuestionIndex, score;

    function startQuiz() {
        currentQuestionIndex = 0;
        score = 0;
        quizResultEl.classList.add('hidden');
        quizContainer.classList.remove('hidden');
        showQuestion();
    }

    function showQuestion() {
        quizContainer.innerHTML = '';
        const q = quizData[currentQuestionIndex];
        quizContainer.innerHTML = `
            <h3 class="text-xl md:text-2xl font-bold text-gray-800 mb-6 text-center">${q.question}</h3>
            <div class="space-y-4">
                ${q.options.map(option => `<div class="quiz-option text-lg" onclick="selectAnswer(this, '${option}')">${option}</div>`).join('')}
            </div>
        `;
    }

    function selectAnswer(el, opt) {
        const q = quizData[currentQuestionIndex];
        const allOptions = quizContainer.querySelectorAll('.quiz-option');
        allOptions.forEach(o => o.onclick = null);

        if (opt === q.answer) { score++; el.classList.add('correct'); } 
        else { 
            el.classList.add('incorrect');
            allOptions.forEach(o => { if (o.innerText === q.answer) o.classList.add('correct'); });
        }
        setTimeout(() => {
            currentQuestionIndex++;
            (currentQuestionIndex < quizData.length) ? showQuestion() : showResult();
        }, 2000);
    }

    function showResult() {
        quizContainer.classList.add('hidden');
        quizResultEl.classList.remove('hidden');
        document.getElementById('result-score').textContent = `Puntuación: ${score} de ${quizData.length}`;
        const title = document.getElementById('result-title');
        const msg = document.getElementById('result-message');
        const icon = document.getElementById('result-icon');
        icon.className = "text-7xl mb-4 fa-solid";
        if (score === quizData.length) {
            title.textContent = '¡Maestro Guardián!';
            msg.textContent = '¡Conoces todos los secretos! Tu sonrisa es invencible.';
            icon.classList.add('fa-trophy', 'text-yellow-500');
        } else if (score >= quizData.length / 2) {
            title.textContent = '¡Gran Guardián!';
            msg.textContent = '¡Eres muy fuerte! Sigue entrenando para ser el mejor.';
            icon.classList.add('fa-shield-heart', 'text-green-500');
        } else {
            title.textContent = '¡Ánimo, Aspirante!';
            msg.textContent = 'Toda gran aventura tiene sus desafíos. ¡Vuelve a intentarlo!';
            icon.classList.add('fa-seedling', 'text-blue-500');
        }
    }
    restartQuizBtn.addEventListener('click', startQuiz);
    startQuiz();
    
    // --- Modal Logic ---
    const openModalBtn = document.getElementById('open-form-btn');
    const closeModalBtn = document.getElementById('close-form-btn');
    const modal = document.getElementById('form-modal');

    openModalBtn.addEventListener('click', () => {
        modal.classList.remove('hidden');
    });

    closeModalBtn.addEventListener('click', () => {
        modal.classList.add('hidden');
    });

    // Close modal if clicking outside of it
    modal.addEventListener('click', (event) => {
        if (event.target === modal) {
            modal.classList.add('hidden');
        }
    });

    </script>
</body>
</html>
